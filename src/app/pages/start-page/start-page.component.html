<div class="container-fluid" (window:resize)="onResize()">
	<div class="ml-md-5 ml-2">
		<h1 class="mt-2 text-color">{{ GetCurrentWeekday() }}</h1>
		<p class="lead text-color">{{ GetCurrentDate() }}</p>
	</div>

	<div class="row mt-4">
		<div class="card col-10 offset-1 col-md-4 mb-5 theme-background-color-secondary">
			<div class="card-body" style="padding-bottom: 0px">
				<h5 class="card-title text-color">{{ locale.appointments }}</h5>
				<ul class="list-group list-group-flush">
					<calendo-appointment-item [appointment]="appointment" [showCompleted]="true" *ngFor="let appointment of dataService.startDaysAppointments[0]"></calendo-appointment-item>
					<li class="list-group-item theme-background-color-secondary" style="padding: 14px 0px 14px 5px;">
						<button type="button" class="btn btn-outline-primary btn-sm" (click)="ShowModal(0)"><fa-icon [icon]="faPlus"></fa-icon></button>
					</li>
				</ul>
			</div>
		</div>
		
		<div class="card col-10 offset-1 col-md-4 offset-md-2 mb-5 theme-background-color-secondary">
			<div class="card-body" style="padding-bottom: 0px">
				<h5 class="card-title text-color">{{ locale.todos }}</h5>
				<ul class="list-group list-group-flush">
					<calendo-todo-item [todo]="todo" *ngFor="let todo of dataService.startDaysTodos[0]" (delete)="DeleteTodo(todo)"></calendo-todo-item>
					<li class="list-group-item theme-background-color-secondary" style="padding: 14px 0px 14px 5px;">
						<button type="button" class="btn btn-outline-primary btn-sm" (click)="ShowModal(1)"><fa-icon [icon]="faPlus"></fa-icon></button>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<div class="container">
		<ng-container *ngFor="let date of dataService.startDaysDates; let i = index;">
			<div class="row py-4 ml-md-4 border-top" [ngClass]="dataService.darkTheme ? 'border-dark' : ''" *ngIf="i > 0">
				<div class="col-3 text-color">
					<h4 class="cursor" (click)="ShowCalendarDay(dataService.startDaysDates[i])">{{ GetLargeDate(date) }}</h4>
					<p class="font-weight-light cursor" (click)="ShowCalendarDay(dataService.startDaysDates[i])">{{ GetSmallDate(date) }}</p>
				</div>
				<div class="col-9 d-flex flex-column mt-2">
					<div class="d-inline-flex" *ngFor="let appointment of dataService.startDaysAppointments[i]">
						<calendo-small-appointment-item [appointment]="appointment"></calendo-small-appointment-item>
					</div>
					
					<div>
						<calendo-small-todo-item [todo]="todo" *ngFor="let todo of dataService.startDaysTodos[i]" (delete)="DeleteTodo(todo)"></calendo-small-todo-item>
					</div>
				</div>
			</div>
		</ng-container>
	</div>

	<calendo-appointment-modal (save)="CreateAppointment($event)"></calendo-appointment-modal>
	<calendo-new-todo-modal (save)="CreateTodo($event)"></calendo-new-todo-modal>
</div>