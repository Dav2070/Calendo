<div (window:resize)="onResize($event)">
   <div id="calendar-top-bar" (click)="click()">
      <h3 class="mt-1 ml-3">{{ getMonthName(currentMonth) }} {{ currentYear }}</h3>
   </div>
   <div id="calendar-label-div" class="position-absolute ml-1">
      <span class="position-absolute">Mo</span>
      <span class="position-absolute" [style.margin-left.px]="calendarDayWidth">Di</span>
      <span class="position-absolute" [style.margin-left.px]="calendarDayWidth * 2">Mi</span>
      <span class="position-absolute" [style.margin-left.px]="calendarDayWidth * 3">Do</span>
      <span class="position-absolute" [style.margin-left.px]="calendarDayWidth * 4">Fr</span>
      <span class="position-absolute" [style.margin-left.px]="calendarDayWidth * 5">Sa</span>
      <span class="position-absolute" [style.margin-left.px]="calendarDayWidth * 6">So</span>
   </div>
   <div id="calendarContainer" #calendarContainer [style.height.px]="calendarHeight" [style.width.px]="calendarWidth" style="overflow:scroll; margin-top: 30px;">
      <div class="d-flex" *ngFor="let week of calendarDays; let i = index;">
         <div class="border" *ngFor="let day of week; let j = index;" 
               [style.height.px]="calendarDayHeight" 
               [style.width.px]="calendarDayWidth" 
               [style.background-color]="getDayBackgroundColor(i, j)">
            <span>{{ day.day }}</span>

            <!-- Render appointments -->
            <ul class="list-group list-group-flush">
               <span *ngFor="let appointment of day.appointments; let k = index;">
                  <li class="list-group-item p-1 pl-2" *ngIf="k < 2" 
                     [style.background-color]="getDayBackgroundColor(i, j)">{{ appointment.name }}</li>
               </span>
            </ul>
            <span *ngIf="day.appointments.length > 2">...</span>

            <!-- Render todos -->
            <br><span class="badge badge-primary ml-1" *ngIf="day.todos.length > 0">{{ day["todos"].length }} Todo<span *ngIf="day['todos'].length > 1">s</span></span>
         </div>
      </div>
   </div>
</div>